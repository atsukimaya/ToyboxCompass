<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8" />
    <title>A-Frame WebAR | 固定位置のオレンジ球</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- A-Frame 本体 -->
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <style>
        html, body {
            margin: 0;
            height: 100%;
            background: transparent;
            overflow: hidden;
        }
        /* A-Frameキャンバスを全画面に。背景α透過でカメラが透ける(WebXR AR) */
        a-scene {
            position: fixed;
            inset: 0;
        }
        /* 画面上に重ねるUI（任意） */
        #overlay {
            position: fixed;
            left: 0;
            right: 0;
            top: 0;
            padding: 8px 12px;
            font: 14px/1.4 system-ui, sans-serif;
            color: #fff;
            text-shadow: 0 1px 2px #0008;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <!-- 画面上に重ねるメモ（任意） -->
    <div id="overlay">ワールド座標に固定されたオレンジ球：position="1 1.5 -3"</div>

    <!--
      A-Frameシーン設定
      - xr-mode-ui: 右下などに「Enter AR」ボタンを出す
      - webxr: AR機能を有効化（optionalFeaturesは端末によって無視される場合あり）
      - renderer: α透過（ARで実世界カメラが背景になる）
      - vr-mode-ui: VRボタンは不要なので無効化
    -->
    <a-scene xr-mode-ui="enabled: true"
             webxr="optionalFeatures: local-floor, dom-overlay; overlayElement: #overlay"
             renderer="colorManagement: true; physicallyCorrectLights: true; alpha: true"
             vr-mode-ui="enabled: false">

        <!--
          カメラ。ユーザーの実世界の姿勢に同期。
          - look-controls: 端末の姿勢センサーで回転する
          - wasd-controls: キーボード移動は不要なので無効化
          ※ エンティティはカメラの子にしないこと。子にすると常に視点に追従してしまい、
             「ワールド固定」になりません。
        -->
        <a-entity camera look-controls wasd-controls-enabled="false"></a-entity>

        <!-- 環境光＆方向光（球にほどよい陰影をつける） -->
        <a-entity light="type: ambient; intensity: 0.6"></a-entity>
        <a-entity light="type: directional; intensity: 0.8" position="0 4 2"></a-entity>

        <!--
          ★ オレンジ色の球体 ★
          - position="1 1.5 -3" が「ワールド座標での任意の位置」
            （ARセッション開始時の原点から x=+1m, y=+1.5m, z=-3m）
          - color / emissive で鮮やかなオレンジに
          - geometry で半径を調整
          - このエンティティはワールドに固定され、ユーザーが歩く/向きを変えると
            見える方向が変化します（＝その場に“浮いている”ように見える）
        -->
        <a-sphere position="1 1.5 -3"
                  geometry="radius: 0.25; segmentsWidth: 32; segmentsHeight: 32"
                  material="color: #FF7F00; emissive: #9E4A00; metalness: 0.1; roughness: 0.5">
        </a-sphere>

    </a-scene>

    <!--
      補足：
      - 「任意の位置」は position="x y z" を変更するだけでOK（単位はメートル）。
      - 「常に視界の正面に出したい」場合は、シーン開始時にカメラの前方へ配置するなどの
        スクリプトを追加しますが、本例は“ワールド固定”なので不要です。
      - 端末がWebXRのARをサポートしていない場合は、別途 getUserMedia で
        背景カメラを敷く“擬似AR”方式を使う必要があります（ご希望ならコード出します）。
    -->
</body>
</html>
